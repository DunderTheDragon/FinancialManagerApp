<Window x:Class="FinancialManagerApp.Views.EditWalletView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:FinancialManagerApp.Models"
        mc:Ignorable="d"
        Title="Edytuj Portfel" 
        Width="412"
        SizeToContent="Height" 
        MaxHeight="700"
        WindowStartupLocation="CenterOwner" 
        ResizeMode="NoResize"
        Background="#ECF0F1">

    <d:Window.DataContext>
        <models:WalletModel Name="Portfel Główny" Type="Manualny" Description="Opis testowy" Balance="1500.00"/>
    </d:Window.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Edycja Portfela" FontSize="20" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,20" HorizontalAlignment="Center"/>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="0,0,0,15">
            <StackPanel>
                <Border Background="White" CornerRadius="8" Padding="15" Margin="0,0,0,15" BorderBrush="#D5DBDB" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Nazwa portfela" FontSize="11" Foreground="#7F8C8D"/>
                        <TextBox Text="{Binding Name}" Padding="5" Margin="0,5,0,15" FontWeight="SemiBold"/>

                        <TextBlock Text="Opis / Notatka" FontSize="11" Foreground="#7F8C8D"/>
                        <TextBox Text="{Binding Description}" Padding="5" Margin="0,5,0,0" Height="50" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"/>
                    </StackPanel>
                </Border>

                <Border Background="White" CornerRadius="8" Padding="15" Margin="0,0,0,5" BorderBrush="#D5DBDB" BorderThickness="1">
                    <StackPanel>
                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel>
                                <TextBlock Text="Typ portfela" FontSize="11" Foreground="#7F8C8D"/>
                                <TextBlock Text="{Binding Type}" FontSize="14" FontWeight="Bold" Foreground="#2C3E50" Margin="0,5,0,0"/>
                            </StackPanel>

                            <Border Grid.Column="1" Background="#EBF5FB" CornerRadius="4" Padding="8,4" VerticalAlignment="Center">
                                <TextBlock Text="Nieedytowalne" FontSize="10" Foreground="#3498DB"/>
                            </Border>
                        </Grid>

                        <TextBlock Text="Aktualne Saldo (PLN)" FontSize="11" Foreground="#7F8C8D"/>
                        <TextBox Text="{Binding Balance, StringFormat=N2}" Padding="5" Margin="0,5,0,5" FontWeight="Bold">
                            <TextBox.Style>
                                <Style TargetType="TextBox">
                                    <Setter Property="IsEnabled" Value="True"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Type}" Value="API">
                                            <Setter Property="IsEnabled" Value="False"/>
                                            <Setter Property="Background" Value="#F2F4F4"/>
                                            <Setter Property="ToolTip" Value="Saldo jest synchronizowane automatycznie z bankiem."/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBox.Style>
                        </TextBox>

                        <TextBlock FontSize="10" Foreground="#E74C3C" FontStyle="Italic" TextWrapping="Wrap" Margin="0,2,0,0">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Type}" Value="API">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="Text" Value="* Nie można ręcznie edytować salda dla kont API."/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <UniformGrid Grid.Row="2" Columns="2" Margin="0,10,0,0">
            <Button Content="Anuluj" Click="BtnCancel_Click" Margin="0,0,5,0" Padding="10" Background="Transparent" BorderBrush="#BDC3C7" BorderThickness="1"/>

            <Button Content="Zapisz zmiany" Click="BtnSave_Click" Background="#F39C12" Foreground="White" Margin="5,0,0,0" Padding="10" FontWeight="Bold" BorderThickness="0">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="4"/>
                    </Style>
                </Button.Resources>
            </Button>
        </UniformGrid>
    </Grid>
</Window>